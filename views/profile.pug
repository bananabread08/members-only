extends layout

block content
  include nav.pug

  div(class="relative max-w-md mx-auto md_max-w-2xl bg-zinc-700 w-full mb-6 shadow-lg rounded-xl mt-28") 
    div(class="flex flex-col gap-2 bg-stone-900 border-4 border-white text-white rounded mb-6")
      div.w-full.flex.justify-center
        div.relative
          img(src=`/images/${avatar}.svg`, alt=`${username}'s image` class="shadow-xl rounded-full align-middle border-none absolute -m-20 -ml-20 lg:-ml-20 max-w-[200px]")
      div(class="w-full text-center mt-20")
        div(class="text-center mt-2")
          p(class="text-2xl text-gray-50 font-bold leading-normal mb-1")= username
          div(class=" text-lg mt-0 mb-2 font-bold")
            p(class=" text-gray-100 opacity-75") #{currentUser && currentUser._id.toString() === id ? email : "Email Hidden" }
          div(class=" text-lg mt-0 mb-2 font-bold")
            p(class=" text-gray-100 opacity-75") Membership Status: #{admin === true ? 'admin' : member === true ? 'Member' : 'None'}
        
        if currentUser && currentUser._id.toString() === id
          div(class="text-center")
            h1.text-gray-100.text-2xl.font-bold Posts
          div(class="w-full text-center h-60 overflow-y-auto p-2")
            each post in post_list 
                div(class=" flex flex-col mb-2 bg-stone-900 border-4 border-white text-white rounded")   
                  h1.text-lg.font-bold= post.title
                  p #{post.message}
                  p #{username}